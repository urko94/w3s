import{_ as X,a as Z}from"./Nav.70037dcf.mjs";import{u as ee,_ as Y,r as te,b as oe}from"./index.esm.8313010c.mjs";import{_ as Q}from"./Btn.43733854.mjs";import{_ as se}from"./Textarea.vue_vue_type_script_setup_true_lang.ce181307.mjs";import{a as O,f as z,b as W,r as c,t as ne,o as a,h as r,u as A,k as j,i as e,l as g,j as s,w as $,v as V,m as q,S as L,x as D,e as ae,D as G,y as I,a8 as U,a9 as le,c as re,R as ie,aa as ce,L as ue,q as T,ab as de,C as me,E as ve,O as H,a4 as pe}from"./entry.2c1b8938.mjs";import{_ as _e}from"./Event.fea45451.mjs";import{_ as he}from"./Footer.79bef203.mjs";const ge={class:"relative mx-auto"},fe={key:0},xe={key:1},ye={key:0,class:"body-sm float-left text-red"},be={key:1,class:"body-sm float-left flex items-center"},we={class:"ml-4"},$e={key:1},J=O({__name:"Question",props:{color:{type:String,default:"green",validator:o=>["orange","green","purple","blue"].includes(o)},type:{type:String,default:"right",validator:o=>["center","right"].includes(o)}},setup(o){const l=z(),f=W(),x=c(""),m=c(""),u=c(!1),i=ne({question:""}),y=ee({question:{$autoDirty:!0,required:te}},i);async function p(){if(await y.value.$validate(),y.value.$invalid)return;u.value=!0;const _=`${l.API_BASE}/ama/submit`,n={email:f.user.email,question:i.question},b={headers:f.axiosHeaders,params:{}};try{if(!(await D.post(_,n,b)).data)throw m.value="",x.value="Something went wrong, please try again later.",new Error("Service error.");m.value="Thank you for your questions!",x.value=""}catch(E){m.value="",x.value="Something went wrong, please try again later.",console.error(E)}u.value=!1}return(_,n)=>{var C,N;const b=se,E=Q,M=Y,R=X;return a(),r("div",ge,[A(f).loggedIn?(a(),r("form",{key:0,onSubmit:n[1]||(n[1]=j(P=>p(),["prevent"]))},[e("p",{class:g(["body-sm mb-3 font-bold",`text-${o.color}`])}," Others may want to learn about it, too. Submit your topic suggestion, and if chosen, we'll discuss it in the next AMA session. ",2),s(b,{modelValue:i.question,"onUpdate:modelValue":n[0]||(n[0]=P=>i.question=P),label:"What would you like to understand more?",class:"h-[125px]",error:(N=(C=A(y).question)==null?void 0:C.$errors[0])==null?void 0:N.$message.toString()},null,8,["modelValue","error"]),e("div",{class:g([{"float-right":o.type==="right"},{"mt-8":o.type==="center"}])},[s(E,{type:"submit",class:g(o.color),loading:u.value,tracking:!1,"min-width":"0",width:"157px",minHeight:"50px"},{default:$(()=>[o.type==="right"?(a(),r("span",fe,"Send")):(a(),r("span",xe,"Submit"))]),_:1},8,["class","loading"])],2),x.value?(a(),r("div",ye,V(x.value),1)):q("",!0),m.value?(a(),r("p",be,[s(M,{name:A(L).Checkmark},null,8,["name"]),e("span",we,V(m.value),1)])):q("",!0)],32)):(a(),r("div",$e,[s(R,{"login-message":"You must be logged in to ask questions."})]))])}}}),Ae={class:"relative flex flex-col items-center"},Se={class:"inline-flex flex-col items-center bg-background"},ke={class:"mb-6 text-center"},Ve={class:"field checkbox w-96"},qe=["id","value","disabled"],Ee=["for"],Re=T(" Vote now "),Me={key:1},Ce=T("Suggest topic"),Ne={key:2,class:"mt-5 text-center text-red"},Pe={key:3,class:"mt-5 text-center text-blue"},Fe={class:"max-h-[85vh] min-h-[600px] text-center"},Le={class:"mt-4 mb-8"},Te=T(" Suggest "),De=e("p",{class:"body-sm mx-auto mb-14 max-w-[640px]"}," Not sure you understand the utility of NFTs? Looking for ways to enter the Metaverse? Perhaps you want to implement smart contracts into your business? ",-1),Oe=O({__name:"Vote",props:{id:{type:Number,required:!0},color:{type:String,default:"green",validator:o=>["orange","green","purple","blue"].includes(o)}},setup(o){const l=o,f=W(),x=ae(()=>[{"bg-orange/40":l.color=="orange","bg-green/40":l.color=="green","bg-purple/40":l.color=="purple","bg-blue/40":l.color=="blue"}]),m=c(""),u=c([]),i=c(""),v=c(""),y=c(0),p=c(""),_=c(""),n=c(""),b=c(!1),M=`${z().API_BASE}/surveys/`,R=c(!1),C=()=>{R.value=!1,setTimeout(()=>R.value=!0,1)};G(()=>{N(l.id)});async function N(d){var S,k;_.value="",p.value="";const h={headers:f.axiosHeaders,params:{}};try{const t=(await D.get(M+d,h)).data;t.isActive?(m.value=t.text,u.value=t.answerList,i.value=t.userAnswer,t.userAnswer&&(v.value=t.userAnswer,p.value="You have already voted. The most chosen will be the topic in your next AMA session.",B())):_.value="Once voting opens, you will be notified via e-mail."}catch(w){w instanceof I.exports.AxiosError&&((k=(S=w.response)==null?void 0:S.data)==null?void 0:k.message)&&(_.value="Once voting opens, you will be notified via e-mail."),console.error(w)}}async function P(){var k,w;if(!v.value){n.value="Please select one field.";return}const d=M+l.id+"/response",h={survey_answer_id:v.value},S={headers:f.axiosHeaders,params:{}};b.value=!0,n.value="";try{const t=await D.post(d,h,S);u.value.forEach(F=>{F.id.toString()===v.value.toString()&&(F.cnt+=1)}),B(),p.value="Thank you for the vote. The most chosen will be the topic in your next AMA session."}catch(t){p.value="",t instanceof I.exports.AxiosError&&((w=(k=t.response)==null?void 0:k.data)==null?void 0:w.code)===422081?n.value=t.response.data.message.replaceAll("_"," "):n.value="Something went wrong, please try again later.",console.error(t)}b.value=!1}const K=d=>Math.round(100*d/y.value);function B(){u.value.forEach(d=>{y.value+=d.cnt}),u.value.forEach(d=>{d.percent=K(d.cnt)})}return(d,h)=>{const S=Q,k=J,w=oe;return a(),r(U,null,[e("div",Ae,[A(f).loggedIn&&o.id&&m.value&&u.value?(a(),r("form",{key:0,onSubmit:h[1]||(h[1]=j(t=>P(),["prevent"]))},[e("div",Se,[e("p",ke,[e("strong",null,V(m.value),1)]),(a(!0),r(U,null,le(u.value,t=>(a(),r("div",Ve,[ie(e("input",{type:"radio",id:`${t.id}`,class:"invisible absolute",value:t.id,"onUpdate:modelValue":h[0]||(h[0]=F=>v.value=F),disabled:i.value!==""&&i.value!==null},null,8,qe),[[ce,v.value]]),e("label",{for:`${t.id}`,class:g({"pointer-events-none cursor-default":i.value!==""&&i.value!==null})},[e("span",null,V(t.text),1),t.text?(a(),r("span",{key:0,class:g(["absolute left-0 top-0 h-full rounded-l-[60px]",[A(x),{"rounded-r-[10px]":t.percent===97},{"rounded-r-[30px]":t.percent===98},{"rounded-r-[40px]":t.percent===99},{"rounded-r-[60px]":t.percent===100}]]),style:ue({width:t.percent+"%"})},null,6)):q("",!0)],10,Ee)]))),256)),e("div",null,[i.value?q("",!0):(a(),re(S,{key:0,type:"submit",class:g(o.color),loading:b.value,tracking:!1,"min-width":"0",width:"157px",minHeight:"50px"},{default:$(()=>[Re]),_:1},8,["class","loading"]))])])],32)):_.value?(a(),r("div",Me,[s(S,{class:g([o.color,"mx-auto"]),onClick:h[2]||(h[2]=t=>C())},{default:$(()=>[Ce]),_:1},8,["class"]),e("div",{class:g(["mt-5 text-center",`text-${o.color}`])},[e("strong",null,V(_.value),1)],2)])):q("",!0),n.value?(a(),r("div",Ne,V(n.value),1)):q("",!0),p.value?(a(),r("p",Pe,V(p.value),1)):q("",!0)]),s(w,{show:R.value,width:"1068px",color:o.color},{default:$(()=>[e("div",Fe,[e("h2",Le,[Te,e("span",{class:g(`text-${o.color}`)},"topic",2)]),De,s(k,{color:o.color,type:"center",class:"max-w-[640px]"},null,8,["color"])])]),_:1},8,["show","color"])],64)}}}),Be={class:"min-h-[100vh]"},Ie={class:"container max-w-[1380px] pt-40 pb-20"},Ue={class:"relative mt-5 bg-background"},He={class:"mx-auto mb-6 px-4 text-center md:px-8"},Ye=T(" #2 Planet "),Qe=e("p",{class:"mx-auto mb-10 text-center md:max-w-[680px] lg:max-w-[887px]"}," Get hands-on advice on your ideas and challenges. For the Ask Me Anything sessions, pick the topics you\u2019re interested in most, and vote with your NFT-enabled voting rights. ",-1),ze={class:"absolute -top-2 -left-2 mobile:w-5 md:left-0 md:top-1/2"},We={class:"absolute -top-2 -right-2 mobile:w-5 md:right-0 md:top-1/2"},je={class:"relative mb-16 text-center"},Ge={class:"relative z-[1] mx-auto mb-20 grid max-w-[660px] grid-cols-1 gap-4 sm:grid-cols-2"},Je=e("div",{class:"body-sm px-6 py-4 text-center"},[e("strong",null,"Have questions about the topic?"),e("button",{class:"body-sm uppercase text-blue"},"SEND YOUR QUESTION")],-1),Ke=e("div",{class:"foreground"},null,-1),at=O({__name:"amalin",setup(o){de(),me({title:"Planet Amalin"}),G(()=>{ve.init()});const l="blue",f={name:"Web3 project examples",date:new Date("2023-01-17T10:00:00"),time:"10:00-12:00",description:"Discover the ways Web3 can help brands realize their vision and get inspired."},x={name:"Voting under way...",date:"Jan, 2023",description:"Select one of the topics above and get your questions ready."};return(m,u)=>{const i=Z,v=Y,y=pe("RouterLink"),p=Oe,_=J,n=_e,b=he;return a(),r("main",Be,[s(i,{exit:"/portal",planet:A(L).PlanetAmalin},null,8,["planet"]),e("div",Ie,[e("div",Ue,[e("h1",He,[Ye,e("span",{class:g(`text-${l}`)},"AMAlin",2)]),Qe,e("div",ze,[s(y,{to:"/planet/introdus/"},{default:$(()=>[s(v,{name:A(L).Arrow,class:"w-full"},null,8,["name"])]),_:1})]),e("div",We,[s(y,{to:"/planet/trios/"},{default:$(()=>[s(v,{name:A(L).Arrow,class:"w-full rotate-180"},null,8,["name"])]),_:1})])]),e("div",je,[s(p,{id:1,color:l})]),e("div",Ge,[s(n,H(f,{color:l,"modal-width":"1420px"}),{bottom:$(()=>[Je]),modalForm:$(()=>[s(_,{color:l})]),_:1},16),s(n,H(x,{color:l}),null,16),s(n,{color:l}),s(n,{color:l})])]),s(b),Ke])}}});export{at as default};
